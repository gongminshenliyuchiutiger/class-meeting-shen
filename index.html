<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­æœƒæµç¨‹å¤§å†’éšªç³»çµ±</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Noto+Serif+TC:wght@600;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-color: #fffdf9;
            --paper-line: #e0e0e0;
            --primary-pink: #ffb7b2;
            --primary-blue: #a2d2ff;
            --primary-yellow: #fff4bd;
            --primary-green: #c7f9cc;
            --text-dark: #4a4a4a;
            --text-serif: #2c3e50;
            --accent-purple: #e2cbf7;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(var(--paper-line) 1px, transparent 1px),
                linear-gradient(90deg, var(--paper-line) 1px, transparent 1px);
            background-size: 30px 30px;
            color: var(--text-dark);
            overflow-x: hidden;
            padding-bottom: 80px;
            line-height: 1.8;
            font-weight: 400;
        }

        h1, h2, h3, h4, h5, h6, .section-badge, .role-title, .challenge-header { 
            font-family: 'Noto Serif TC', serif; 
            font-weight: 900; 
            color: var(--text-serif);
        }

        /* --- å‰ç¥¥ç‰© --- */
        #mascot-wrapper {
            position: fixed; bottom: 20px; left: 20px; z-index: 10000;
            width: 140px; touch-action: none;
        }
        #mascot-img {
            width: 100%; cursor: grab;
            filter: drop-shadow(0 5px 8px rgba(0,0,0,0.15));
            transition: transform 0.2s, filter 0.3s;
        }
        #mascot-img:active { cursor: grabbing; transform: scale(0.95); }
        #mascot-img:hover { filter: drop-shadow(0 0 10px var(--primary-pink)); }

        #mascot-bubble {
            position: absolute; bottom: 110%; left: 50%;
            transform: translateX(-50%) scale(0);
            background: #fff; padding: 12px 18px;
            border-radius: 15px; border: 3px solid var(--primary-blue);
            min-width: 220px; text-align: center; font-weight: 700;
            color: #333; box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
            opacity: 0; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none; font-size: 1rem; z-index: 10001;
            font-family: 'Noto Sans TC', sans-serif;
        }
        #mascot-bubble::after {
            content: ''; position: absolute; bottom: -10px; left: 50%;
            transform: translateX(-50%); border-width: 10px 10px 0;
            border-style: solid; border-color: var(--primary-blue) transparent;
        }

        /* --- Header --- */
        header { text-align: center; padding: 4rem 1rem 2rem; }

        h1 {
            font-size: 3.5rem;
            background: #fff;
            display: inline-block;
            padding: 15px 50px;
            border: 4px double var(--text-serif);
            border-radius: 60px;
            transform: rotate(-2deg);
            box-shadow: 8px 8px 0px var(--primary-pink);
            color: var(--text-serif);
        }

        .subtitle {
            margin-top: 25px;
            background: var(--primary-yellow);
            display: inline-block;
            padding: 8px 25px;
            transform: rotate(1deg);
            font-weight: 700;
            box-shadow: 3px 3px 0px rgba(0,0,0,0.1);
            border-radius: 30px;
            color: #555;
            font-size: 1.2rem;
            font-family: 'Noto Sans TC', sans-serif;
        }

        .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }

        /* --- ç« ç¯€æ¨™é¡Œ --- */
        .section-title {
            margin: 5rem 0 2rem;
            text-align: center;
            position: relative;
        }

        .section-badge {
            display: inline-flex;
            align-items: center; justify-content: center;
            background: var(--text-serif);
            color: #fff;
            padding: 10px 35px;
            font-size: 1.8rem;
            border-radius: 5px;
            position: relative; z-index: 2;
            box-shadow: 5px 5px 0 rgba(0,0,0,0.2);
            transform: rotate(-1deg);
        }

        .tape-deco {
            position: absolute; top: -12px; left: 50%;
            transform: translateX(-50%) rotate(1.5deg);
            width: 150px; height: 35px;
            background: rgba(255, 183, 178, 0.6);
            z-index: 3;
        }

        /* --- éš¨å ‚å°æŒ‘æˆ°å€å¡Š --- */
        .mini-challenge-box {
            background: #fff;
            border: 2px dashed var(--text-serif);
            border-radius: 15px;
            padding: 20px;
            margin: 40px 0;
            box-shadow: 5px 5px 0 var(--accent-purple);
            position: relative;
        }
        .mini-tag {
            position: absolute; top: -15px; left: 20px;
            background: var(--accent-purple); color: var(--text-serif);
            padding: 5px 15px; font-weight: bold; border: 2px solid var(--text-serif);
            font-family: 'Noto Serif TC'; transform: rotate(-2deg);
        }
        .challenge-header { font-size: 1.3rem; margin-bottom: 15px; color: var(--text-serif); }
        .mini-options { display: flex; gap: 10px; flex-wrap: wrap; }
        
        .mini-btn {
            flex: 1; padding: 12px; border: 2px solid #ddd; background: #f9f9f9;
            border-radius: 8px; cursor: pointer; font-family: 'Noto Sans TC';
            transition: 0.2s; font-weight: bold; color: #555;
            display: flex; justify-content: center; align-items: center; text-align: center;
            min-height: 50px;
        }
        .mini-btn:hover { background: #fff; border-color: var(--text-serif); color: var(--text-serif); }
        .mini-btn.correct { background: var(--primary-green); border-color: #2e8b57; color: #004d00; }
        .mini-btn.wrong { background: var(--primary-pink); border-color: #b22222; color: #8b0000; }
        
        .mini-feedback { margin-top: 15px; font-size: 0.95rem; font-weight: bold; display: none; padding: 10px; border-radius: 8px; }
        
        /* å°æŒ‘æˆ°çš„é‡ç½®æŒ‰éˆ• (æ›´æ–°ç‚º Font Awesome) */
        .mini-reset-btn {
            display: inline-flex; align-items: center; gap: 5px;
            margin-left: 10px; font-size: 0.8rem;
            background: #fff; border: 1px solid #999; padding: 4px 10px;
            border-radius: 4px; cursor: pointer; color: #555;
            font-family: 'Noto Sans TC';
        }
        .mini-reset-btn:hover { background: #eee; color: var(--text-serif); border-color: var(--text-serif); }

        /* --- è§’è‰²å¡ç‰‡ --- */
        .role-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 2.5rem; }
        .flip-card { background-color: transparent; height: 450px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border-radius: 5px; padding: 20px; background: #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); border: 1px solid #eee;
        }
        .flip-card-front { border-bottom: 50px solid #fff; border-left: 10px solid #fff; border-right: 10px solid #fff; border-top: 10px solid #fff; }
        .role-img { width: 100%; height: 220px; object-fit: contain; background: #fafafa; margin-bottom: 20px; border: 1px dashed #ddd; }
        .role-title { font-size: 1.8rem; color: #333; border-bottom: 2px solid var(--primary-pink); display: inline-block; margin-bottom: 5px; }
        .flip-card-back { transform: rotateY(180deg); background-image: linear-gradient(#f1f1f1 1px, transparent 1px); background-size: 100% 1.5rem; padding-top: 30px; text-align: left; display: flex; flex-direction: column; }
        .flip-card-back h3 { color: var(--primary-blue); margin-bottom: 10px; font-family: 'Noto Serif TC'; }
        .flip-card-back ul { padding-left: 20px; list-style-type: none; }
        .flip-card-back li { margin-bottom: 8px; position: relative; }
        .flip-card-back li::before { content: '\f00c'; font-family: "Font Awesome 6 Free"; font-weight: 900; color: var(--primary-pink); position: absolute; left: -20px; }

        /* --- æµç¨‹å€å¡Š --- */
        .step-box {
            background: var(--primary-yellow); padding: 25px; margin-bottom: 25px;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.1); position: relative;
            transform: rotate(-0.5deg); border-radius: 2px 2px 25px 2px;
        }
        .step-box::after { content: ''; position: absolute; bottom: 8px; right: 8px; width: 20px; height: 20px; background: rgba(0,0,0,0.1); transform: skew(15deg) rotate(4deg); filter: blur(5px); z-index: -1; }
        .step-box:nth-child(even) { background: var(--primary-green); transform: rotate(0.5deg); }
        .step-header { display: flex; align-items: center; gap: 10px; border-bottom: 2px dashed #fff; padding-bottom: 10px; margin-bottom: 15px; }
        .step-header h3 { font-size: 1.4rem; }
        .step-icon { font-size: 1.5rem; color: #555; }

        /* --- Tab ç³»çµ± --- */
        .tab-container { border: 3px solid var(--text-serif); border-radius: 15px; background: #fff; box-shadow: 8px 8px 0 rgba(0,0,0,0.1); overflow: hidden; margin-top: 20px; }
        .tabs { display: flex; background: #eee; border-bottom: 3px solid var(--text-serif); }
        .tab-btn {
            flex: 1; padding: 18px; border: none; border-right: 2px solid var(--text-serif);
            background: #fff0f5; font-weight: 700; font-size: 1.2rem; cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; justify-content: center; gap: 8px; font-family: 'Noto Sans TC', sans-serif;
        }
        .tab-btn:last-child { border-right: none; }
        .tab-btn.active { background: #fff; color: #ff6b6b; }
        .tab-btn:hover { background: #ffe4e1; }
        .tab-content { display: none; padding: 30px; animation: fadeIn 0.5s; }
        .tab-content.active { display: block; }

        .notebook-table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 1.1rem; }
        .notebook-table th { background: var(--primary-pink); color: #fff; padding: 12px; border: 2px solid #555; font-family: 'Noto Serif TC'; }
        .notebook-table td { padding: 12px; border: 2px solid #555; text-align: center; background: #fff; }

        .note-bubble { background: #e3f2fd; border-left: 5px solid var(--primary-blue); padding: 15px; margin: 15px 0; border-radius: 0 10px 10px 0; font-size: 1rem; }
        .note-bubble strong { color: #1565c0; display: block; margin-bottom: 5px; font-weight: 900; }

        .action-btn {
            background: var(--text-serif); color: #fff; padding: 10px 25px; border-radius: 50px;
            border: none; cursor: pointer; font-weight: 700; font-family: 'Noto Sans TC', sans-serif;
            margin: 5px; display: inline-flex; align-items: center; gap: 8px;
            box-shadow: 0 4px 0 #1a252f; transition: transform 0.1s;
        }
        .action-btn:active { transform: translateY(4px); box-shadow: 0 0 0 #000; }
        .btn-pink { background: #ff9a9e; box-shadow: 0 4px 0 #d68084; }
        .btn-blue { background: #a2d2ff; box-shadow: 0 4px 0 #8cbbe6; }

        /* --- æ¸¬é©—å€ --- */
        .quiz-box {
            background: #fff; border: 3px dashed #888; padding: 25px; border-radius: 20px; margin-top: 30px; transition: transform 0.2s;
        }
        .quiz-box:hover { transform: translateY(-5px); }
        .quiz-box h4 { font-family: 'Noto Sans TC'; font-size: 1.1rem; }
        
        .quiz-opt {
            background: #fcfcfc; border: 2px solid #eee; padding: 15px; margin-top: 10px;
            border-radius: 12px; cursor: pointer; transition: 0.2s; position: relative;
        }
        .quiz-opt:hover { border-color: var(--primary-blue); background: #f0f8ff; }
        .quiz-opt.correct { background: var(--primary-green); border-color: #2e8b57; color: #004d00; }
        .quiz-opt.wrong { background: var(--primary-pink); border-color: #b22222; color: #8b0000; }
        .quiz-opt i { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); opacity: 0; }
        .quiz-opt.correct i, .quiz-opt.wrong i { opacity: 1; }

        /* æ¸¬é©—è¨ˆåˆ†èˆ‡æ§åˆ¶å€ */
        #quiz-control-panel {
            text-align: center; margin-top: 40px; padding: 20px;
            background: #f4f4f4; border-radius: 15px; border: 2px solid #ccc;
        }
        .score-display { font-size: 1.5rem; font-weight: 900; color: var(--text-serif); margin-bottom: 15px; }
        .reset-all-btn {
            background: #ff6b6b; color: #fff; padding: 12px 30px; font-size: 1.1rem;
            border: none; border-radius: 50px; cursor: pointer; font-family: 'Noto Serif TC';
            box-shadow: 0 4px 0 #d32f2f; transition: 0.1s;
            display: inline-flex; align-items: center; gap: 8px;
        }
        .reset-all-btn:active { transform: translateY(4px); box-shadow: 0 0 0 transparent; }

        /* è­‰æ›¸å€åŸŸ */
        #certificate-area {
            display: none; margin-top: 40px; text-align: center;
            background: linear-gradient(135deg, #fff 0%, #fffdf9 100%);
            padding: 40px; border: 5px solid #d4af37; outline: 2px dashed #d4af37; outline-offset: -10px;
            border-radius: 10px; animation: popIn 0.5s;
        }
        #certificate-area h2 { color: #d4af37; font-size: 2rem; margin-bottom: 20px; }
        .cert-input {
            padding: 10px; font-size: 1.2rem; border: 2px solid #ccc; border-radius: 5px;
            width: 200px; text-align: center; font-family: 'Noto Sans TC';
        }
        .cert-btn {
            padding: 10px 20px; font-size: 1.1rem; background: #d4af37; color: #fff;
            border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;
            font-weight: bold; display: inline-flex; align-items: center; gap: 5px;
        }
        .cert-btn:hover { background: #b8962e; }

        /* --- å°å¸«æ‡¸æµ®æŒ‰éˆ• --- */
        .teacher-float {
            position: fixed; bottom: 30px; right: 30px; width: 85px; height: 85px;
            border-radius: 50%; background: #fff; border: 4px solid var(--primary-blue);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); cursor: pointer; z-index: 9000;
            overflow: hidden; padding: 5px; transition: transform 0.2s;
        }
        .teacher-float:hover { transform: scale(1.1) rotate(5deg); }
        .teacher-float img { width: 100%; height: 100%; object-fit: contain; }

        /* --- Modal --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); z-index: 12000; justify-content: center; align-items: center; padding: 20px;
            backdrop-filter: blur(3px);
        }
        .modal-content {
            background: #fff; color: #333; padding: 30px; border-radius: 15px;
            max-width: 550px; width: 100%; position: relative; animation: popIn 0.3s;
            border: 5px solid var(--primary-blue); box-shadow: 10px 10px 0 rgba(0,0,0,0.2);
        }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 2rem; cursor: pointer; color: #aaa; }

        footer { text-align: center; padding: 30px; color: #888; font-size: 1.3rem; margin-top: 50px; font-family: 'Noto Serif TC'; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popIn { 0% { transform: scale(0.5); } 80% { transform: scale(1.1); } 100% { transform: scale(1); } }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .tabs { flex-direction: column; }
            .tab-btn { border-right: none; border-bottom: 2px solid #555; }
        }
    </style>
</head>
<body>

    <!-- å‰ç¥¥ç‰©å€åŸŸ -->
    <div id="mascot-wrapper" title="æ‹–æ›³æˆ‘ï¼é»æ“Šæˆ‘ï¼">
        <div id="mascot-bubble">å…¬æ°‘ç¥æœ‰ä¸‰åŠ›ï¼šæ³¨æ„åŠ›ã€è¨˜æ†¶åŠ›ã€æˆ°é¬¥åŠ›ï¼</div>
        <img id="mascot-img" src="image/LiyuChillGuy.svg" alt="LiyuChillGuy" draggable="false">
    </div>

    <!-- é é¦– -->
    <header>
        <h1><i class="fa-solid fa-shapes"></i> ç­æœƒæµç¨‹å¤§å†’éšªç³»çµ±</h1>
        <br>
        <div class="subtitle">èå…¥ç¾¤é«”çš„å€‹äººç”Ÿæ´»ï¼šè·Ÿè‘—å…¬æ°‘ç¥ä¸€èµ·é–‹æœƒå§ï¼</div>
    </header>

    <div class="container">

        <!-- STEP 1: è§’è‰² -->
        <div class="section-title">
            <div class="tape-deco"></div>
            <div class="section-badge">
                <i class="fa-solid fa-users-viewfinder"></i> 1. é¸å‡ºç­æœƒéµä¸‰è§’
            </div>
        </div>
        <p style="text-align:center; margin-bottom:20px; color:#888;">
            <i class="fa-solid fa-hand-pointer"></i> é»æ“Šè§’è‰²åœ–ç‰‡ï¼Œç¿»é¢æŸ¥çœ‹è©³ç´°è·è²¬ï¼
        </p>
        
        <div class="role-grid">
            <!-- ä¸»å¸­ -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="role/ä¸»å¸­.svg" alt="ä¸»å¸­" class="role-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1995/1995515.png'">
                        <div class="role-title"><i class="fa-solid fa-gavel"></i> ä¸»å¸­</div>
                        <p style="font-size:0.9rem; color:#888;">æœƒè­°çš„éˆé­‚äººç‰©</p>
                    </div>
                    <div class="flip-card-back">
                        <h3><i class="fa-solid fa-star"></i> ä¸»å¸­è·è²¬ï¼š</h3>
                        <ul>
                            <li>ä¸»æŒæœƒè­°ï¼Œè³¦äºˆåƒåŠ äººå“¡ç™¼è¨€åœ°ä½ã€‚</li>
                            <li>ç¶­æŒæœƒå ´ç§©åºï¼Œè£æ±º<strong>æ¬Šå®œ</strong>èˆ‡<strong>ç§©åº</strong>å•é¡Œã€‚</li>
                            <li>è™•ç†ææ¡ˆè¨è«–èˆ‡è¡¨æ±ºï¼Œå®£å¸ƒçµæœã€‚</li>
                        </ul>
                        <div class="note-bubble" style="margin:10px; padding:10px; font-size:0.9rem; background:#fff0f5; border-left-color:#ff9a9e;">
                            <strong>âš ï¸ ä¿æŒä¸­ç«‹</strong>
                            åŸå‰‡ä¸Šã€Œä¸ç™¼è¡¨æ„è¦‹ã€ã€ã€Œä¸åƒèˆ‡è¡¨æ±ºã€ã€‚åªæœ‰åœ¨ã€ŒæŠ•äº‹ã€åŒç¥¨æ™‚æ‰æŠ•é—œéµä¸€ç¥¨ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¸å„€ -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="role/å¸å„€.svg" alt="å¸å„€" class="role-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2921/2921226.png'">
                        <div class="role-title"><i class="fa-solid fa-microphone-lines"></i> å¸å„€</div>
                        <p style="font-size:0.9rem; color:#888;">ç¨‹åºçš„å¼•å°è€…</p>
                    </div>
                    <div class="flip-card-back">
                        <h3><i class="fa-solid fa-list-ol"></i> å¸å„€è·è²¬ï¼š</h3>
                        <ul>
                            <li>å®£å¸ƒæœƒè­°ç¨‹åº (å¤§è²å”¸å‡ºç›®å‰é€²è¡Œåˆ°çš„æµç¨‹)ã€‚</li>
                            <li>å”åŠ©ä¸»å¸­æŒæ§è­°ç¨‹ã€‚</li>
                            <li>ç¢ºä¿æœƒè­°é †åˆ©é€²è¡Œï¼Œä¸åé›¢ä¸»é¡Œã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ç´€éŒ„ -->
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="role/ç´€éŒ„.svg" alt="ç´€éŒ„" class="role-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3050/3050525.png'">
                        <div class="role-title"><i class="fa-solid fa-pen-to-square"></i> ç´€éŒ„</div>
                        <p style="font-size:0.9rem; color:#888;">éç¨‹çš„è¦‹è­‰è€…</p>
                    </div>
                    <div class="flip-card-back">
                        <h3><i class="fa-solid fa-book-open"></i> è©³å¯¦è¨˜éŒ„ï¼š</h3>
                        <ul>
                            <li>å ±å‘Šäº‹å®œ (èª°å ±å‘Šäº†ä»€éº¼)ã€‚</li>
                            <li>é¸èˆ‰æˆ–è¡¨æ±ºçš„æ–¹æ³• (èˆ‰æ‰‹? æŠ•ç¥¨?)ã€‚</li>
                            <li>ç¥¨æ•¸ã€çµæœ (å¹¾ç¥¨è´Šæˆã€å¹¾ç¥¨åå°)ã€‚</li>
                            <li>æ±ºè­°çš„è¦é» (æœ€å¾Œæ±ºå®šåšä»€éº¼)ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- [äº’å‹• #1] -->
        <div class="mini-challenge-box">
            <div class="mini-tag"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #1</div>
            <div class="challenge-header">Q: èª°è² è²¬ç¶­æŒæœƒå ´ç§©åºã€è£æ±ºå•é¡Œï¼Ÿ</div>
            <div class="mini-options">
                <div class="mini-btn" onclick="checkMini(this, true)">ä¸»å¸­</div>
                <div class="mini-btn" onclick="checkMini(this, false)">å¸å„€</div>
                <div class="mini-btn" onclick="checkMini(this, false)">ç´€éŒ„</div>
            </div>
            <div class="mini-feedback"></div>
        </div>

        <!-- STEP 2 -->
        <div class="section-title">
            <div class="tape-deco" style="background:rgba(162, 210, 255, 0.5);"></div>
            <div class="section-badge" style="background:var(--primary-pink);">
                <i class="fa-solid fa-bullhorn"></i> 2. å®£å¸ƒé–‹æœƒ & å ±å‘Š
            </div>
        </div>
        
        <div class="step-box">
            <div class="step-header">
                <i class="fa-solid fa-flag step-icon"></i>
                <h3>å®£å¸ƒé–‹æœƒ</h3>
            </div>
            <p>ç”±ä¸»å¸­å®£å¸ƒï¼šæœƒè­°åç¨±ã€è­°ç¨‹èˆ‡é–‹æœƒç›®çš„ã€‚é€™ä»£è¡¨æœƒè­°æ­£å¼é–‹å§‹ï¼</p>
        </div>
        <div class="step-box">
            <div class="step-header">
                <i class="fa-solid fa-chart-pie step-icon"></i>
                <h3>å ±å‘Šäº‹é …</h3>
            </div>
            <p>ç”±ä¸»å¸­èˆ‡ç­ç´šå¹¹éƒ¨é€²è¡Œå·¥ä½œå ±å‘Šã€‚ä¾‹å¦‚è¡›ç”Ÿè‚¡é•·å ±å‘Šæ‰“æƒæƒ…æ³ã€é¢¨ç´€è‚¡é•·å ±å‘Šç§©åºæƒ…æ³ã€‚</p>
        </div>

        <!-- [äº’å‹• #2] -->
        <div class="mini-challenge-box" style="border-color:var(--primary-blue);">
            <div class="mini-tag" style="background:var(--primary-blue); border-color:var(--primary-blue); color:#fff;"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #2</div>
            <div class="challenge-header">Q: åœ¨ã€Œå ±å‘Šäº‹é …ã€éšæ®µï¼Œå¤§å®¶æ‡‰è©²ï¼Ÿ</div>
            <div class="mini-options">
                <div class="mini-btn" onclick="checkMini(this, false)">æº–å‚™é€²è¡Œè¡¨æ±º</div>
                <div class="mini-btn" onclick="checkMini(this, true)">å®‰éœè†è½å¹¹éƒ¨å ±å‘Šç¾æ³</div>
                <div class="mini-btn" onclick="checkMini(this, false)">æå‡ºè‡¨æ™‚å‹•è­°</div>
            </div>
            <div class="mini-feedback"></div>
        </div>

        <!-- STEP 3 -->
        <div class="section-title">
            <div class="tape-deco" style="background:rgba(199, 249, 204, 0.5);"></div>
            <div class="section-badge" style="background:#ffcc00; color:#333;">
                <i class="fa-solid fa-comments"></i> 3. è¨è«–äº‹é … (æ ¸å¿ƒé‡é»)
            </div>
        </div>
        
        <div class="tab-container">
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab(event, 'tab1')">
                    <i class="fa-solid fa-hand-holding-heart"></i> ææ¡ˆèˆ‡å‹•è­°
                </button>
                <button class="tab-btn" onclick="openTab(event, 'tab2')">
                    <i class="fa-solid fa-comments-dollar"></i> è¨è«–
                </button>
                <button class="tab-btn" onclick="openTab(event, 'tab3')">
                    <i class="fa-solid fa-check-to-slot"></i> è¡¨æ±º
                </button>
            </div>

            <!-- Tab 1: ææ¡ˆ -->
            <div id="tab1" class="tab-content active">
                <h4 style="color:#ff6b6b;"><i class="fa-solid fa-sink"></i> æ¡ˆä¾‹ï¼šç­éŠè¦å»ä½•è™•ï¼Ÿ</h4>
                <div style="background:#fff; border:2px solid #ddd; padding:15px; border-radius:10px; margin:10px 0;">
                    <i class="fa-regular fa-comment-dots"></i> å°åˆ©ï¼šæœ€è¿‘æœ¨æŸµå‹•ç‰©åœ’æœ‰é–‹æ”¾å¤œé–“éŠé¤¨æ´»å‹•ï¼Œæ„Ÿè¦ºå¾ˆå¥½ç©ï¼Œæˆ‘è¦åœ¨ç­æœƒæå‡ºï¼<br>
                    <i class="fa-regular fa-face-smile"></i> å¤§é¤˜ï¼šè½èµ·ä¾†å¥½è®šï¼Œæˆ‘ä¹Ÿæ”¯æŒé€™å€‹æƒ³æ³•ï¼
                </div>

                <p>è¦è®“å¤§å®¶è¨è«–ä¸€ä»¶äº‹ï¼Œæœ‰å…©ç¨®æ–¹æ³•ï¼š</p>
                <table class="notebook-table">
                    <tr>
                        <th>é …ç›®</th>
                        <th>ææ¡ˆ (Proposal)</th>
                        <th>å‹•è­° (Motion)</th>
                    </tr>
                    <tr>
                        <td><strong>æ™‚é–“</strong></td>
                        <td>é–‹æœƒ<span style="color:red">å‰</span></td>
                        <td>é–‹æœƒ<span style="color:red">ä¸­</span></td>
                    </tr>
                    <tr>
                        <td><strong>æ–¹å¼</strong></td>
                        <td><span style="color:red">æ›¸é¢</span>å‘ˆç¾</td>
                        <td><span style="color:red">å£é ­</span>æå‡º</td>
                    </tr>
                    <tr>
                        <td><strong>æ¢ä»¶</strong></td>
                        <td>éœ€ 1 äººä»¥ä¸Š<strong>ã€Œé™„<span style="color:red">ç½²</span>ã€</strong>(ç°½å)</td>
                        <td>éœ€ 1 äººä»¥ä¸Š<strong>ã€Œé™„<span style="color:red">è­°</span>ã€</strong>(å£é ­)</td>
                    </tr>
                </table>

                <div class="note-bubble">
                    <strong>ğŸ’¡ ç‚ºä»€éº¼éœ€è¦é™„ç½²/é™„è­°ï¼Ÿ</strong>
                    é€™æ˜¯ç‚ºäº†è­‰æ˜é€™å€‹æè­°ã€Œä¸å­¤å–®ï¼Œä¸æ˜¯åªæœ‰ä¸€å€‹äººæƒ³è¨è«–ã€ï¼Œé€™æ¨£å¯ä»¥é¿å…æµªè²»å¤§å®¶çš„æ™‚é–“ï¼Œèšç„¦åœ¨æ›´æœ‰å…±è­˜çš„åœ°æ–¹ï¼
                </div>

                <!-- [äº’å‹• #3] -->
                <div class="mini-challenge-box" style="margin: 20px 0; border-style: dotted;">
                    <div class="mini-tag" style="background:#ff6b6b; border-color:#ff6b6b; color:#fff;"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #3</div>
                    <div class="challenge-header" style="font-size:1.1rem;">Q: æƒ³è¦åœ¨ã€Œé–‹æœƒå‰ã€å°±è®“å¤§å®¶çŸ¥é“æˆ‘æƒ³è¨è«–ä»€éº¼ï¼Œæ‡‰è©²å¯«ï¼Ÿ</div>
                    <div class="mini-options">
                        <div class="mini-btn" onclick="checkMini(this, true)">ææ¡ˆå–® (ææ¡ˆ)</div>
                        <div class="mini-btn" onclick="checkMini(this, false)">å‚³ç´™æ¢</div>
                        <div class="mini-btn" onclick="checkMini(this, false)">è‡¨æ™‚å‹•è­°</div>
                    </div>
                    <div class="mini-feedback"></div>
                </div>
            </div>

            <!-- Tab 2: è¨è«– -->
            <div id="tab2" class="tab-content">
                <h4><i class="fa-solid fa-scale-balanced"></i> è¨è«–è¦å‰‡èˆ‡ç¦®å„€</h4>
                <ul style="list-style:none; padding-left:10px;">
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:green;"></i> <strong>ç™¼è¨€åœ°ä½ï¼š</strong> ç™¼è¨€å‰å¿…é ˆèˆ‰æ‰‹ï¼Œç¶“ä¸»å¸­åŒæ„æ‰èƒ½ç™¼è¡¨ã€‚</li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:green;"></i> <strong>å…§å®¹ï¼š</strong> æ„è¦‹è¡¨é”ç›¡é‡ç°¡æ˜æ‰¼è¦ï¼Œä¸è¦é•·ç¯‡å¤§è«–ã€‚</li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-heart" style="color:red;"></i> <strong>æ…‹åº¦ï¼š</strong> æ‡‰å°Šé‡åˆ¥äººç™¼è¨€ï¼Œç¦æ­¢äººèº«æ”»æ“Šã€‚</li>
                </ul>
                
                <hr style="border: 1px dashed #ccc; margin: 20px 0;">
                
                <h4><i class="fa-solid fa-triangle-exclamation"></i> çªç™¼æƒ…æ³ï¼è©²æ€éº¼è™•ç†ï¼Ÿ</h4>
                <p>å¦‚æœé‡åˆ°ä»¥ä¸‹æƒ…æ³ï¼Œå¯ä»¥æ‰“æ–·æœƒè­°æå‡ºå•é¡Œï¼š</p>
                
                <div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;">
                    <button class="action-btn btn-pink" onclick="openModal('modal-privilege')">
                        <i class="fa-solid fa-circle-question"></i> æ¬Šå®œå•é¡Œ
                    </button>
                    <button class="action-btn btn-blue" onclick="openModal('modal-order')">
                        <i class="fa-solid fa-gavel"></i> ç§©åºå•é¡Œ
                    </button>
                </div>

                <!-- [äº’å‹• #4] (åŸ #5 ç§»åˆ°é€™è£¡) -->
                <div class="mini-challenge-box" style="border-color:#ff9a9e; margin-top:30px;">
                    <div class="mini-tag" style="background:#ff9a9e; border-color:#ff9a9e; color:#fff;"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #4</div>
                    <div class="challenge-header">Q: æœƒè­°ä¸­çªç„¶æœ‰äººé–‹å§‹èŠå¤©ï¼Œç§©åºæ··äº‚åµé¬§è½ä¸åˆ°è²éŸ³ï¼Œè©²æå‡ºï¼Ÿ</div>
                    <div class="mini-options">
                        <div class="mini-btn" onclick="checkMini(this, true)">æ¬Šå®œå•é¡Œ</div>
                        <div class="mini-btn" onclick="checkMini(this, false)">ç§©åºå•é¡Œ</div>
                    </div>
                    <div class="mini-feedback"></div>
                </div>
            </div>

            <!-- Tab 3: è¡¨æ±º -->
            <div id="tab3" class="tab-content">
                <h4><i class="fa-solid fa-check-double"></i> è¡¨æ±ºä¸‰æ­¥é©Ÿ</h4>
                <ol style="margin-left:20px; line-height:2;">
                    <li><strong>é †åºï¼š</strong> <span style="color:red">ã€å…ˆã€</span>æå(è­°)ï¼Œ<span style="color:red">ã€å…ˆã€</span>è¡¨æ±ºã€‚</li>
                    <li><strong>æ–¹å¼ï¼š</strong> èˆ‰æ‰‹ã€æŠ•ç¥¨ã€èµ·ç«‹ã€æˆ–æ˜¯èµ·ç«‹é¼“æŒã€‚</li>
                    <li><strong>çµæœï¼š</strong> ä¾<strong><span style="color:red">å¤šæ•¸æ±º</span></strong>çš„åŸå‰‡å®£å¸ƒè¡¨æ±ºçµæœã€‚</li>
                </ol>
                <br>
                <div class="note-bubble" style="background:#fff3cd; border-left-color:#ffc107;">
                    <strong>âš ï¸ è§€å¿µé‡æ¸…ï¼šå¤šæ•¸æ±ºçš„é™åˆ¶</strong>
                    <p>å¤šæ•¸æ±ºä¸æ˜¯è¬èƒ½çš„ï¼æˆ‘å€‘<strong>ä¸å¯ä»¥ä»¥å¤šæ•¸æ±ºæ±ºå®šï¼š</strong>
å®¢è§€å­˜åœ¨çš„äº‹å¯¦ã€‚...<i class="fa-solid fa-xmark"></i>ä¾‹å¦‚ï¼šåŸƒåŠæœ‰æ²’æœ‰é‡‘å­—å¡”ï¼Ÿ<br>
è‡ªç„¶ç•Œçš„æ³•å‰‡ã€‚..<i class="fa-solid fa-xmark"></i>ä¾‹å¦‚ï¼šèªå®šå¤ªé™½æ˜¯ç¹è‘—åœ°çƒè½‰ï¼Ÿ<br>
ç´”å±¬å€‹äººï¼Œè€Œèˆ‡ä»–äººæˆ–å…¬å…±ç„¡é—œçš„äº‹å‹™ã€‚...<i class="fa-solid fa-xmark"></i>	ä¾‹å¦‚ï¼šä»Šå¤©ç­é•·çš„ä¾¿ç•¶è¦è¨‚ä»€éº¼å£å‘³ï¼Ÿ <br>
é™åˆ¶æˆ–å¥ªå–å°‘æ•¸äººçš„æ¬Šåˆ©ã€‚...<i class="fa-solid fa-xmark"></i>ä¾‹å¦‚ï¼šèº«é«˜æœ€çŸ®å‰äº”åä¸èƒ½ä¸‹èª²ï¼Ÿ <br>
ç§‘å­¸ä¸Šå·²è­‰æ˜çš„äº‹å¯¦ã€‚...<i class="fa-solid fa-xmark"></i>ä¾‹å¦‚ï¼šä¸»å¼µæ°´çš„å…ƒç´ æ˜¯é‡‘ï¼Ÿ <br>
ä»¥å¤šæ•¸æ±ºä¾†å»¢é™¤å¤šæ•¸æ±ºã€‚...<i class="fa-solid fa-xmark"></i>ä¾‹å¦‚ï¼šç­é•·ä»¥å¤šæ•¸æ±ºä¾†æ±ºå®šä¹‹å¾Œç­å‹™ç›´æ¥ç”±ä»–æ±ºå®šï¼Ÿ </p>
                </div>

                <!-- [äº’å‹• #5] (åŸ #4 é †å»¶) -->
                <div class="mini-challenge-box" style="margin: 20px 0; border-style: dotted; border-color: #ffc107;">
                    <div class="mini-tag" style="background:#ffc107; border-color:#ffc107; color:#333;"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #5</div>
                    <div class="challenge-header" style="font-size:1.1rem;">Q: è¡¨æ±ºçš„æ™‚å€™ï¼Œæ‡‰è©²å…ˆè¡¨æ±ºå“ªä¸€å€‹ææ¡ˆï¼Ÿ</div>
                    <div class="mini-options">
                        <div class="mini-btn" onclick="checkMini(this, true)">å…ˆæåçš„å…ˆè¡¨æ±º</div>
                        <div class="mini-btn" onclick="checkMini(this, false)">å¾Œæåçš„å…ˆè¡¨æ±º</div>
                        <div class="mini-btn" onclick="checkMini(this, false)">ä¸»å¸­å–œæ­¡çš„å…ˆè¡¨æ±º</div>
                    </div>
                    <div class="mini-feedback"></div>
                </div>
            </div>
        </div>

        <!-- STEP 4 -->
        <div class="section-title">
            <div class="tape-deco" style="background:rgba(226, 203, 247, 0.5);"></div>
            <div class="section-badge" style="background:#9c27b0;">
                <i class="fa-solid fa-door-open"></i> 4. è‡¨æ™‚å‹•è­° & æ•£æœƒ
            </div>
        </div>
        
        <div class="step-box" style="background:#e0f7fa;">
            <h3><i class="fa-regular fa-lightbulb"></i> è‡¨æ™‚å‹•è­°</h3>
            <p>è­°ç¨‹è¨è«–å®Œå¾Œï¼Œä¸»å¸­è©¢å•ï¼šã€Œæœ‰ç„¡è‡¨æ™‚å‹•è­°ï¼Ÿã€ã€‚<br>
            å¦‚æœé€™æ™‚å€™çªç„¶æƒ³åˆ°éåŸå®šè­°ç¨‹çš„äº‹ï¼ˆä¾‹å¦‚ï¼šçªç„¶æƒ³è¨è«–ç­æœåœ–æ¡ˆï¼‰ï¼Œå°±å¯ä»¥èˆ‰æ‰‹æå‡ºã€‚</p>
        </div>
        
        <div class="step-box" style="background:#ffecb3;">
            <h3><i class="fa-solid fa-hand-spock"></i> æ•£æœƒ</h3>
            <p>æ‰€æœ‰äº‹æƒ…éƒ½è™•ç†å®Œäº†ï¼Œä¸»å¸­å®£å¸ƒæ•£æœƒã€‚æœƒè­°çµæŸã€‚</p>
        </div>

        <!-- [äº’å‹• #6] -->
        <div class="mini-challenge-box" style="border-color:#9c27b0;">
            <div class="mini-tag" style="background:#9c27b0; border-color:#9c27b0; color:#fff;"><i class="fa-solid fa-bolt"></i> éš¨å ‚å°æŒ‘æˆ° #6</div>
            <div class="challenge-header">Q: æ‰€æœ‰è­°ç¨‹éƒ½çµæŸäº†ï¼Œä¸»å¸­å®£å¸ƒæ•£æœƒï¼Œé€™æ™‚å€™æ‰å¯ä»¥ï¼Ÿ</div>
            <div class="mini-options">
                <div class="mini-btn" onclick="checkMini(this, false)">é–‹å§‹è¨è«–ç­æœ</div>
                <div class="mini-btn" onclick="checkMini(this, true)">é›¢é–‹åº§ä½ä¸‹èª²</div>
                <div class="mini-btn" onclick="checkMini(this, false)">æå‡ºç§©åºå•é¡Œ</div>
            </div>
            <div class="mini-feedback"></div>
        </div>

        <!-- æ¸¬é©—å€ (10 é¡Œ) -->
        <div class="section-title">
            <div class="section-badge" style="background:#333;">
                <i class="fa-solid fa-pencil"></i> å…¬æ°‘ç¥çš„éš¨å ‚æ¸¬é©— (æ»¿åˆ†100å¯é ˜è­‰æ›¸)
            </div>
        </div>
        
        <!-- é¡Œç›®å€åŸŸ -->
        <div id="quiz-container">
            <!-- Q1 -->
            <div class="quiz-box">
                <h4>Q1. é–‹æœƒæ™‚ï¼Œéš”å£ç­å¤ªåµé¬§æˆ–æ•™å®¤çªç„¶åœé›»ï¼Œå½±éŸ¿åˆ°æœƒè­°é€²è¡Œï¼Œé€™æ™‚æ‡‰è©²æå‡ºä»€éº¼ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">A. æ¬Šå®œå•é¡Œ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. ç§©åºå•é¡Œ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. è‡¨æ™‚å‹•è­° <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. æ•£æœƒå‹•è­° <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q2 -->
            <div class="quiz-box">
                <h4>Q2. é—œæ–¼ã€Œä¸»å¸­ã€çš„è·è²¬èˆ‡æ…‹åº¦ï¼Œä¸‹åˆ—å“ªä¸€å€‹æè¿°æ˜¯æ­£ç¢ºçš„ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. æ‡‰è©²ç©æ¥µç™¼è¡¨å€‹äººæ„è¦‹å¼•å°å¤§å®¶ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">B. åŸå‰‡ä¸Šä¸æŠ•ç¥¨ã€ä¸ç™¼è¨€ï¼Œä¿æŒä¸­ç«‹ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. è² è²¬è¨˜éŒ„æœƒè­°çš„æ‰€æœ‰ç´°ç¯€ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. è² è²¬å®£è®€æœƒè­°çš„æµç¨‹ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q3 -->
            <div class="quiz-box">
                <h4>Q3. å°åˆ©åœ¨é–‹æœƒã€Œå‰ã€å°±å¯«å¥½äº†ç­éŠè¨ˆç•«æ›¸ï¼Œæƒ³åœ¨ç­æœƒè¨è«–ã€‚é€™å±¬æ–¼ä»€éº¼ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">A. ææ¡ˆ (Proposal) <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. å‹•è­° (Motion) <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. å¶ç™¼äº‹ä»¶ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. ç§©åºå•é¡Œ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q4 -->
            <div class="quiz-box">
                <h4>Q4. æ‰¿ä¸Šé¡Œï¼Œå¦‚æœæ˜¯ã€Œé–‹æœƒä¸­ã€æ‰å£é ­æå‡ºçš„å»ºè­°ï¼Œç¨±ç‚ºä»€éº¼ï¼Ÿä¸”éœ€è¦ä»€éº¼æ¢ä»¶ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. ææ¡ˆï¼›éœ€è¦ä¸€äººé™„ç½² <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. å‹•è­°ï¼›éœ€è¦ä¸»å¸­åŒæ„ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">C. å‹•è­°ï¼›éœ€è¦ä¸€äººä»¥ä¸Šé™„è­° <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. ææ¡ˆï¼›éœ€è¦å…¨ç­é€šé <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q5 -->
            <div class="quiz-box">
                <h4>Q5. åœ¨ç­æœƒä¸­ï¼Œã€Œå°å¸«ã€çš„è§’è‰²æ‡‰è©²æ˜¯ä»€éº¼ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. åŒç¥¨æ™‚ï¼Œè² è²¬è£æ±º <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">B. æç¤ºè¦å‰‡çš„é¡§å•ï¼Œä¸åƒèˆ‡è¡¨æ±º <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. æ“”ä»»ä¸»å¸­ä¸»æŒæœƒè­° <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. è² è²¬è¨˜éŒ„æœƒè­°å…§å®¹ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q6 -->
            <div class="quiz-box">
                <h4>Q6. æœƒè­°é€²è¡Œä¸­ï¼Œå¦‚æœæœ‰äººç™¼è¨€åé›¢ä¸»é¡Œæˆ–é€²è¡Œäººèº«æ”»æ“Šï¼Œé•åäº†è­°äº‹è¦å‰‡ï¼Œå¯æå‡ºä»€éº¼ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. æ¬Šå®œå•é¡Œ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">B. ç§©åºå•é¡Œ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. è‡¨æ™‚å‹•è­° <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. ç›´æ¥å ±è­¦ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q7 -->
            <div class="quiz-box">
                <h4>Q7. é—œæ–¼ã€Œå¤šæ•¸æ±ºã€çš„é™åˆ¶ï¼Œä¸‹åˆ—å“ªä¸€é …æ˜¯å¯ä»¥é€éæŠ•ç¥¨è¡¨æ±ºæ±ºå®šçš„ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. åœ°çƒæ˜¯ä¸æ˜¯åœ“çš„ï¼Ÿ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. èº«é«˜æœªæ»¿150å…¬åˆ†çš„äººä¸èƒ½åƒåˆé¤ï¼Ÿ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">C. é€™æ¬¡æ ¡æ…¶åœ’éŠæœƒç­ä¸Šè¦è³£ä»€éº¼ï¼Ÿ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. å…¬æ°‘ç¥ä»Šå¤©æ™šé¤è¦åƒéºµé‚„æ˜¯åƒé£¯ï¼Ÿ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q8 -->
            <div class="quiz-box">
                <h4>Q8. ç­æœƒä¸­ï¼Œèª°è² è²¬å®£å¸ƒç›®å‰çš„æœƒè­°ç¨‹åºï¼Œå”åŠ©ä¸»å¸­æŒæ§æµç¨‹ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. ç´€éŒ„ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. é¢¨ç´€è‚¡é•· <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">C. å¸å„€ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. å°å¸« <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q9 -->
            <div class="quiz-box">
                <h4>Q9. é—œæ–¼ã€Œè‡¨æ™‚å‹•è­°ã€çš„æå‡ºæ™‚æ©Ÿï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. æœƒè­°ä¸€é–‹å§‹å°±å…ˆæå‡º <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">B. éš¨æ™‚æƒ³æå°±èˆ‰æ‰‹ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">C. åŸå®šè­°ç¨‹è¨è«–å®Œç•¢å¾Œï¼Œæ•£æœƒå‰æå‡º <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. å¿…é ˆåœ¨é–‹æœƒå‰æäº¤æ›¸é¢è³‡æ–™ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>

            <!-- Q10 -->
            <div class="quiz-box">
                <h4>Q10. ä¸‹åˆ—å“ªä¸€é …ä¸æ˜¯ã€Œç´€éŒ„ã€çš„å·¥ä½œå…§å®¹ï¼Ÿ</h4>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">A. è¨˜ä¸‹è¡¨æ±ºçš„ç¥¨æ•¸èˆ‡çµæœ <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)">B. æ±ºå®šèª°å¯ä»¥ç™¼è¨€ <i class="fa-solid fa-check"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">C. è¨˜ä¸‹æ±ºè­°çš„è¦é» <i class="fa-solid fa-xmark"></i></div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)">D. è¨˜ä¸‹å ±å‘Šäº‹é …çš„å…§å®¹ <i class="fa-solid fa-xmark"></i></div>
                <div class="feedback-msg" style="margin-top:10px; font-weight:bold;"></div>
            </div>
        </div>

        <!-- æ¸¬é©—æ§åˆ¶é¢æ¿ -->
        <div id="quiz-control-panel">
            <div class="score-display">ç›®å‰å¾—åˆ†ï¼š<span id="current-score">0</span> / 100</div>
            <button class="reset-all-btn" onclick="resetMainQuiz()">
                <i class="fa-solid fa-rotate-right"></i> å…¨éƒ¨é‡æ–°ä½œç­” (æ¸…ç©º)
            </button>
        </div>

        <!-- è­‰æ›¸å€åŸŸ -->
        <div id="certificate-area">
            <h2>ğŸ† æ­å–œé€šéç­æœƒæµç¨‹å¤§å†’éšªï¼</h2>
            <p style="margin-bottom:20px;">æ‚¨å·²ç¶“ç²¾é€šç­æœƒæµç¨‹æˆç‚ºé–‹ç­æœƒç¥ï¼è«‹è¼¸å…¥å§“åé ˜å–è­‰æ›¸ï¼</p>
            <input type="text" id="cert-name" class="cert-input" placeholder="è«‹è¼¸å…¥å§“å">
            <button class="cert-btn" onclick="generateCertificate()">
                <i class="fa-solid fa-file-arrow-down"></i> ç”Ÿæˆä¸¦ä¸‹è¼‰è­‰æ›¸
            </button>
        </div>

    </div>

    <!-- å°å¸«æ‡¸æµ®æŒ‰éˆ• -->
    <div class="teacher-float" onclick="openModal('modal-teacher')" title="å°å¸«å°å®åš€">
        <img src="role/å°å¸«.svg" alt="å°å¸«" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3429/3429433.png'">
    </div>

    <!-- Modals (å½ˆçª—) -->
    
    <!-- å°å¸« Modal -->
    <div id="modal-teacher" class="modal">
        <div class="modal-content" style="border-color:var(--primary-blue);">
            <span class="close-btn" onclick="closeModal('modal-teacher')">&times;</span>
            <h3 style="color:var(--primary-blue);"><i class="fa-solid fa-chalkboard-user"></i> å…¬æ°‘ç¥å°å®åš€</h3>
            <hr style="margin:10px 0; border:0; border-top:1px dashed #ccc;">
            <p>æˆç‚ºé–‹ç­æœƒç¥ï¼Œä¸å†åªæ˜¯å¤¢æƒ³ï¼</p>
            <ul style="margin-left:20px; margin-top:10px;">
                <li>ç­æœƒæ˜¯åŸ¹é¤Š<strong>æ°‘ä¸»ç´ é¤Š</strong>æœ€å¥½çš„ç·´ç¿’å ´ã€‚</li>
                <li>é–‹ç­æœƒæ™‚ï¼Œè€å¸«åœ¨æ—é‚Šæ˜¯ã€Œé¡§å•ã€çš„è§’è‰²ï¼Œè² è²¬è§€å¯Ÿå¤§å®¶ï¼Œå¦‚æœç¨‹åºå‡ºéŒ¯æ‰å¯èƒ½æç¤ºè¦å‰‡ã€‚</li>
                <li>è€å¸«<strong>ä¸æœƒ</strong>ä»‹å…¥è¡¨æ±ºéç¨‹å’Œçµæœï¼ŒæŠŠæ±ºå®šæ¬Šç•™çµ¦å­¸ç”Ÿï¼Œè½å¯¦å­¸ç”Ÿè‡ªæ²»ï¼</li>
            </ul>
        </div>
    </div>

    <!-- æ¬Šå®œå•é¡Œ Modal -->
    <div id="modal-privilege" class="modal">
        <div class="modal-content" style="border-color:#ff9a9e;">
            <span class="close-btn" onclick="closeModal('modal-privilege')">&times;</span>
            <h3 style="color:#ff6b6b;"><i class="fa-solid fa-circle-question"></i> æ¬Šå®œå•é¡Œ</h3>
            <div style="background:#fff0f0; padding:10px; border-radius:10px; margin:10px 0;">
                <strong>å£è¨£ï¼š</strong> çªç™¼ç·Šæ€¥æƒ…æ³ã€æ¬Šå®œä¹‹è¨ˆã€äº‹æœ‰è¼•é‡ç·©æ€¥ã€‚
            </div>
            <p><strong>å®šç¾©ï¼š</strong> è­°å ´å¶ç™¼çš„ç·Šæ€¥äº‹ä»¶ï¼Œå½±éŸ¿è­°å ´å…¨é«”ã€‚</p>
            <p><strong>ä¾‹å­ï¼š</strong>
                <br>1. è­°å ´å¤ªé›œé¬§ï¼Œè½ä¸åˆ°è²éŸ³ã€‚
                <br>2. çªç„¶åœé›»ï¼Œå…‰ç·šå¤ªæš—ï¼Œçœ‹ä¸æ¸…æ¥šã€‚
                <br>3. å†·æ°£å£äº†å¤ªç†±ï¼Œå°è‡´æœ‰äººçªç„¶æ˜å€’ã€‚
		<br>4. çªç„¶åœ°éœ‡ã€å¤±ç«ã€‚
		<br>5. æœ‰è™é ­èœ‚ç¾¤é£›é€²æ•™å®¤ã€‚
            </p>
            <p><strong>è™•ç†ï¼š</strong> ä¸»å¸­å¿…é ˆé¦¬ä¸Šæ±ºå®šæ˜¯å¦å…ˆæš«åœæœƒè­°ï¼Œå„ªå…ˆè™•ç†è©²äº‹ã€‚</p>
        </div>
    </div>

    <!-- ç§©åºå•é¡Œ Modal -->
    <div id="modal-order" class="modal">
        <div class="modal-content" style="border-color:#a2d2ff;">
            <span class="close-btn" onclick="closeModal('modal-order')">&times;</span>
            <h3 style="color:#1565c0;"><i class="fa-solid fa-gavel"></i> ç§©åºå•é¡Œ</h3>
            <div style="background:#e3f2fd; padding:10px; border-radius:10px; margin:10px 0;">
                <strong>å£è¨£ï¼š</strong> ç§©åºçš„åºæ˜¯ã€Œé †åºã€ï¼ŒæŒ‡æµç¨‹éŒ¯èª¤ã€‚
            </div>
            <p><strong>å®šç¾©ï¼š</strong> è­°é¡Œé€²è¡Œç™¼ç”Ÿã€Œè­°äº‹ç¨‹åºéŒ¯èª¤ã€ã€‚</p>
            <p><strong>ä¾‹å­ï¼š</strong>
                <br>1. ç™¼è¨€é›¢é¡Œï¼ˆè¶…å‡ºè­°é¡Œç¯„åœï¼‰ã€‚
                <br>2. æœ‰äººæ’å˜´ã€ä¸ç†æ€§ç™¼è¨€ã€‚
                <br>3. é‚„æ²’é™„è­°ï¼Œä¸»å¸­å°±é–‹å§‹è®“äººè¨è«–ã€‚
            </p>
            <p><strong>è™•ç†ï¼š</strong> è«‹æ±‚ä¸»å¸­ç³¾æ­£éŒ¯èª¤çš„ç¨‹åºã€‚</p>
        </div>
    </div>

    <footer>
        Copyright Â© Liyuchiutiger Gongminshen
    </footer>

    <script>
        // --- å‰ç¥¥ç‰©äº’å‹•é‚è¼¯ ---
        const mascotWrapper = document.getElementById('mascot-wrapper');
        const mascotBubble = document.getElementById('mascot-bubble');
        let isDragging = false;
        let startX, startY, initialLeft, initialBottom;
        let isClick = true;

        const quotes = [
            "é‚±ä¿ç‘œå…¬æ°‘ï¼Œæˆç‚ºå…¬æ°‘ç¥ä¸å†åªæ˜¯å¤¢æƒ³ï¼",
            "ç¬¬ä¸€å¥ï¼šå…¬æ°‘å¥½ç¥ï¼æˆ‘æœƒéµå®ˆå…¬æ°‘ç¥æœƒå“¡å®ˆå‰‡ï¼",
            "ç¬¬äºŒå¥ï¼šåŠªåŠ›å‘ä¸Šã€å‹‡å¾€ç›´å‰ã€ä¸ç•è‰±é›£ï¼Œæˆ‘è¦æˆç‚ºå…¬æ°‘ç¥ï¼",
            "ç¬¬ä¸‰å¥ï¼šå…¬æ°‘ç¥æœ‰ä¸‰åŠ›ï¼šæ³¨æ„åŠ›ã€è¨˜æ†¶åŠ›ã€æˆ°é¬¥åŠ›ï¼"
        ];
        let quoteIndex = 0;
        let bubbleTimer;

        mascotWrapper.addEventListener('mousedown', dragStart);
        mascotWrapper.addEventListener('touchstart', dragStart, {passive: false});

        function dragStart(e) {
            isDragging = true; isClick = true;
            if (e.type === 'touchstart') {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            } else {
                startX = e.clientX;
                startY = e.clientY;
                e.preventDefault(); 
            }
            
            const rect = mascotWrapper.getBoundingClientRect();
            initialLeft = rect.left;
            initialBottom = window.innerHeight - rect.bottom;
            mascotWrapper.style.cursor = 'grabbing';
        }

        window.addEventListener('mousemove', dragMove);
        window.addEventListener('touchmove', dragMove, {passive: false});

        function dragMove(e) {
            if (!isDragging) return;
            let clientX, clientY;
            if (e.type === 'touchmove') { e.preventDefault(); clientX = e.touches[0].clientX; clientY = e.touches[0].clientY; } 
            else { clientX = e.clientX; clientY = e.clientY; }

            const dx = clientX - startX;
            const dy = clientY - startY;
            if (Math.abs(dx) > 5 || Math.abs(dy) > 5) isClick = false;

            mascotWrapper.style.left = `${initialLeft + dx}px`;
            mascotWrapper.style.bottom = `${initialBottom - dy}px`;
        }

        window.addEventListener('mouseup', dragEnd);
        window.addEventListener('touchend', dragEnd);

        function dragEnd() {
            if (isDragging) {
                isDragging = false;
                mascotWrapper.style.cursor = 'grab';
                if (isClick) showQuote();
            }
        }

        function showQuote() {
            mascotBubble.innerText = quotes[quoteIndex];
            quoteIndex = (quoteIndex + 1) % quotes.length;
            
            mascotBubble.style.opacity = '1';
            mascotBubble.style.transform = 'translateX(-50%) scale(1)';
            
            clearTimeout(bubbleTimer);
            bubbleTimer = setTimeout(() => {
                mascotBubble.style.opacity = '0';
                mascotBubble.style.transform = 'translateX(-50%) scale(0)';
            }, 3000);
        }

        // --- é ç±¤åˆ‡æ› ---
        function openTab(evt, tabName) {
            let i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.className += " active";
        }

        // --- éš¨å ‚å°æŒ‘æˆ°é‚è¼¯ (å«é‡ç½®) ---
        function checkMini(btn, isCorrect) {
            const parent = btn.parentElement.parentElement;
            const feedback = parent.querySelector('.mini-feedback');
            const btns = parent.querySelectorAll('.mini-btn');
            
            btns.forEach(b => b.style.pointerEvents = 'none'); // é–å®š

            feedback.style.display = 'block';
            if(isCorrect) {
                btn.classList.add('correct');
                feedback.innerHTML = '<span style="color:green"><i class="fa-solid fa-circle-check"></i> ç­”å°äº†ï¼æœç„¶æ˜¯å…¬æ°‘å¥½ç¥ï¼</span> <button class="mini-reset-btn" onclick="resetMini(this)"><i class="fa-solid fa-rotate-right"></i> é‡æ–°ä½œç­”</button>';
            } else {
                btn.classList.add('wrong');
                feedback.innerHTML = '<span style="color:red"><i class="fa-solid fa-circle-xmark"></i> ç­”éŒ¯å›‰ï¼å†æƒ³ä¸€ä¸‹å¾Œé‡æ–°ä½œç­”ï¼</span> <button class="mini-reset-btn" onclick="resetMini(this)"><i class="fa-solid fa-rotate-right"></i> é‡æ–°ä½œç­”</button>';
            }
        }

        function resetMini(resetBtn) {
            const parent = resetBtn.closest('.mini-challenge-box');
            const feedback = parent.querySelector('.mini-feedback');
            const btns = parent.querySelectorAll('.mini-btn');

            btns.forEach(b => {
                b.style.pointerEvents = 'auto'; // è§£é–
                b.classList.remove('correct', 'wrong');
            });
            feedback.style.display = 'none';
        }

        // --- æ¸¬é©—åŠŸèƒ½ (å«è¨ˆåˆ†ã€å…¨éƒ¨é‡ç½®ã€è­‰æ›¸) ---
        function checkAnswer(el, isCorrect) {
            const parent = el.parentElement;
            const feedback = parent.querySelector('.feedback-msg');
            const options = parent.querySelectorAll('.quiz-opt');
            
            // é–å®šé¸é …
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (isCorrect) {
                el.classList.add('correct');
                feedback.innerHTML = "<span style='color:green'><i class='fa-solid fa-face-laugh-squint'></i> å°äº†ï¼æœç„¶æ˜¯å…¬æ°‘å¥½ç¥ï¼(+10åˆ†)</span>";
                updateScore(10);
            } else {
                el.classList.add('wrong');
                feedback.innerHTML = "<span style='color:red'><i class='fa-solid fa-face-dizzy'></i> ç­”éŒ¯äº†ï¼å†æƒ³ä¸€ä¸‹å¾Œé‡æ–°ä½œç­”ï¼ï¼ˆæ³¨æ„ï¼Œéš¨å ‚æ¸¬é©—é‡æ–°ä½œç­”éœ€å…¨éƒ¨æ¸…ç©ºï¼œä¸‹æ»‘è‡³æœ€åº•ï¼ï¼Œé¿å…æ¿«çŒœç­”æ¡ˆã€‚ï¼‰</span>";
                // æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                options.forEach(opt => {
                    if(opt.getAttribute('onclick').includes('true')) opt.classList.add('correct');
                });
            }
        }

        let currentScore = 0;
        function updateScore(points) {
            currentScore += points;
            document.getElementById('current-score').innerText = currentScore;
            
            // æ»¿åˆ†é¡¯ç¤ºè­‰æ›¸å€
            if(currentScore === 100) {
                document.getElementById('certificate-area').style.display = 'block';
                // æ»¾å‹•åˆ°è­‰æ›¸å€
                setTimeout(() => {
                    document.getElementById('certificate-area').scrollIntoView({ behavior: 'smooth' });
                }, 500);
            }
        }

        function resetMainQuiz() {
            // ç¢ºèªé‡ç½®
            if(!confirm("ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰ 10 é¡Œçš„ä½œç­”ç´€éŒ„ä¸¦é‡ä¾†å—ï¼Ÿåˆ†æ•¸å°‡æ­¸é›¶ã€‚")) return;

            // æ­¸é›¶åˆ†æ•¸
            currentScore = 0;
            document.getElementById('current-score').innerText = "0";
            document.getElementById('certificate-area').style.display = 'none';

            // é‡ç½®æ‰€æœ‰é¸é …
            const allOpts = document.querySelectorAll('.quiz-opt');
            allOpts.forEach(opt => {
                opt.classList.remove('correct', 'wrong');
                opt.style.pointerEvents = 'auto';
            });

            // æ¸…ç©ºå›é¥‹è¨Šæ¯
            const allFeedbacks = document.querySelectorAll('.feedback-msg');
            allFeedbacks.forEach(msg => msg.innerHTML = "");

            // æ»¾å‹•å›ç¬¬ä¸€é¡Œ
            document.getElementById('quiz-container').scrollIntoView({ behavior: 'smooth' });
        }

        // --- è­‰æ›¸ç”Ÿæˆèˆ‡ä¸‹è¼‰ (Canvas) ---
        function generateCertificate() {
            const name = document.getElementById('cert-name').value.trim();
            if(!name) { alert("è«‹å…ˆè¼¸å…¥å§“åå–”ï¼"); return; }

            // å»ºç«‹ Canvas
            const canvas = document.createElement('canvas');
            canvas.width = 1000;
            canvas.height = 700;
            const ctx = canvas.getContext('2d');

            // èƒŒæ™¯èˆ‡é‚Šæ¡†
            ctx.fillStyle = "#fffdf9";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // é‡‘è‰²é‚Šæ¡†
            ctx.strokeStyle = "#d4af37";
            ctx.lineWidth = 20;
            ctx.strokeRect(20, 20, 960, 660);
            
            ctx.strokeStyle = "#2c3e50";
            ctx.lineWidth = 5;
            ctx.strokeRect(40, 40, 920, 620);

            // æ¨™é¡Œ
            ctx.fillStyle = "#d4af37";
            ctx.font = "bold 60px 'Noto Serif TC', serif";
            ctx.textAlign = "center";
            ctx.fillText("å…¬æ°‘ç¥ç­æœƒæµç¨‹å¤§å†’éšªé€šéè­‰æ›¸", canvas.width/2, 150);

            // å…§æ–‡
            ctx.fillStyle = "#333";
            ctx.font = "40px 'Noto Sans TC', sans-serif";
            ctx.fillText("èŒ²è­‰æ˜", canvas.width/2, 250);
            
            // å§“å
            ctx.fillStyle = "#2c3e50";
            ctx.font = "bold 80px 'Noto Serif TC', serif";
            ctx.fillText(name, canvas.width/2, 360);
            
            // å…§å®¹
            ctx.fillStyle = "#555";
            ctx.font = "30px 'Noto Sans TC', sans-serif";
            ctx.fillText("å·²æˆåŠŸé€šéã€Œç­æœƒæµç¨‹å¤§å†’éšªã€æ‰€æœ‰è©¦ç…‰ï¼Œ", canvas.width/2, 450);
            ctx.fillText("ç‰¹é ’æ­¤è­‰ï¼Œä»¥è³‡é¼“å‹µï¼", canvas.width/2, 500);

            // æ—¥æœŸ
            const date = new Date();
            const dateStr = `${date.getFullYear()} å¹´ ${date.getMonth()+1} æœˆ ${date.getDate()} æ—¥`;
            ctx.font = "25px 'Noto Sans TC', sans-serif";
            ctx.fillStyle = "#888";
            ctx.fillText(dateStr, 800, 600);

            // ä¸‹è¼‰
            const link = document.createElement('a');
            link.download = `å…¬æ°‘ç¥ç­æœƒæµç¨‹å¤§å†’éšªé€šéè­‰æ›¸_${name}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // --- Modal æ§åˆ¶ ---
        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        window.onclick = function(e) { if(e.target.classList.contains('modal')) e.target.style.display='none'; }
    </script>
</body>
</html>